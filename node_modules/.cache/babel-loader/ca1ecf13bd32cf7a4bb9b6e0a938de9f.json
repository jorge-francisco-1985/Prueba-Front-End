{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _d = require('d3');\n\nvar _d2 = _interopRequireDefault(_d);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar string = _propTypes2.default.string;\nvar StackDataMixin = {\n  propTypes: {\n    offset: string\n  },\n  getDefaultProps: function getDefaultProps() {\n    return {\n      offset: 'zero',\n      order: 'default'\n    };\n  },\n  componentWillMount: function componentWillMount() {\n    this._stackData(this.props);\n  },\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    this._stackData(nextProps);\n  },\n  _stackData: function _stackData(props) {\n    var offset = props.offset,\n        order = props.order,\n        x = props.x,\n        y = props.y,\n        values = props.values;\n\n    var stack = _d2.default.layout.stack().offset(offset).order(order).x(x).y(y).values(values);\n\n    this._data = stack(this._data);\n\n    for (var m = 0; m < values(this._data[0]).length; m++) {\n      var positiveBase = 0;\n      var negativeBase = 0;\n\n      for (var n = 0; n < this._data.length; n++) {\n        var value = y(values(this._data[n])[m]);\n\n        if (value < 0) {\n          values(this._data[n])[m].y0 = negativeBase;\n          negativeBase += value;\n        } else {\n          values(this._data[n])[m].y0 = positiveBase;\n          positiveBase += value;\n        }\n      }\n    }\n  }\n};\nexports.default = StackDataMixin;","map":null,"metadata":{},"sourceType":"script"}